<!DOCTYPE html>
<html lang="es">
<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <meta charset="UTF-8">
    <title>Gestión de Rutinas Operativas</title>
    https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css
    <style>
        .card-counter {
            color: #fff;
            padding: 20px;
            border-radius: 5px;
            text-align: center;
        }
        .card-purple { background-color: #6f42c1; }
        .card-green { background-color: #198754; }
        .card-orange { background-color: #fd7e14; }
        .card-red { background-color: #dc3545; }
    </style>
</head>
<body>
<div class="container mt-4">
    <h1 class="mb-4">Gestión de Rutinas Operativas</h1>

    <!-- Contadores -->
    <div class="row text-center mb-4">
        <div class="col-md-3">
            <div class="card-counter card-purple">
                <h5>Total de Tareas</h5>
                <h2>{{ total }}</h2>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card-counter card-green">
                <h5>Completadas</h5>
                <h2>{{ completadas }}</h2>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card-counter card-orange">
                <h5>Pendientes</h5>
                <h2>{{ pendientes }}</h2>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card-counter card-red">
                <h5>Vencidas</h5>
                <h2>{{ vencidas }}</h2>
            </div>
        </div>
    </div>

    <!-- Filtros -->
    <form method="GET" class="row mb-4">
        <div class="col-md-5">
            <select name="estado" class="form-select">
                <option value="">Filtrar por Estado</option>
                <option value="pendiente">Pendiente</option>
                <option value="completada">Completada</option>
                <option value="vencida">Vencida</option>
            </select>
        </div>
        <div class="col-md-5">
            <select name="responsable" class="form-select">
                <option value="">Filtrar por Responsable</option>
                {% for r in responsables %}
                    <option value="{{ r }}">{{ r }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="col-md-2 d-flex justify-content-end">
            <a href="/" class="btn btn-secondary me-2">Limpiar Filtros</a>
            <a href="/nueva" class="btn btn-success">+ Nueva Tarea</a>
        </div>
    </form>

    <!-- Tarjetas de tareas -->
    <div class="row">
        {% for tarea in tareas %}
        <div class="col-md-6 mb-4">
            <div class="card shadow-sm">
                <div class="card-body">
                    <h5 class="card-title">{{ tarea.titulo }}</h5>
                    <p class="card-text">{{ tarea.descripcion }}</p>
                    <p class="card-text">
                        <strong>Responsable:</strong> {{ tarea.responsable }}<br>
                        <strong>Fecha de entrega:</strong> {{ tarea.fecha_entrega }}<br>
                        <strong>Fecha de creación:</strong> {{ tarea.fecha_creacion }}
                    </p>
                    <div class="progress mb-2">
                        <div class="progress-bar" role="progressbar" style="width: {{ tarea.progreso }}%;" aria-valuenow="{{ tarea.progreso }}" aria-valuemin="0" aria-valuemax="100">{{ tarea.progreso }}%</div>
                    </div>
                    <a href="/editar/{{ tarea.id }}" class="btn btn-sm btn-outline-primary">Editar</a>
                    <a href="/eliminar/{{ tarea.id }}" class="btn btn-sm btn-outline-danger">Eliminar</a>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js
</body>
</html>

